import{h as e,d as r,b as a,e as i,i as s,c as t}from"./index.2a1c02c1.js";import{u as n}from"./user.46b258ff.js";import{p as l,e as o,o as d,b as c,d as p,t as u,T as m,g as y,h,w as f,f as w}from"./vendor.91a2dab4.js";import"./fetch.6f2c1643.js";const g={name:"Me",components:{Window:e,GenTextBox:r,BtnGroup:a,GenBtnFlat:i,Spacing:s,Card:t},props:{app:{type:Object}},data:()=>({search:"",profile:{account:{name:"",email:""},security:{strictMode:!1}}}),methods:{turnOffStrictMode(){this.profile.security.strictMode=!1,this.app.user.strictMode=this.profile.security.strictMode}},mounted(){this.profile.account.username=this.app.user.username,this.profile.account.email=this.app.user.email,this.profile.security.strictMode=this.app.user.strictMode},beforeRouteEnter(e,r,a){n.logined({},(()=>{a()}),(()=>{a(!1)}))},beforeRouteLeave(e,r,a){a()}},b=f("data-v-e991635a");l("data-v-e991635a");const v={class:"me-view"},k={class:"search-container"},_=h("search"),x={class:"layout"},M=p("div",{class:"title"},[p("span",null,"account")],-1),C={class:"line"},j=p("span",null,"uid: ",-1),q={class:"primary"},U={class:"line"},B=p("span",null,"account name: ",-1),G=h("change"),O={class:"line"},S=p("span",null,"email: ",-1),R=h("change"),T={class:"line"},E=p("span",null,"verify your email: ",-1),F=h("send"),I={class:"line text-center"},L=h("confirm"),W=p("div",{class:"title"},[p("span",null,"security")],-1),z={class:"line"},A=p("span",null,"strict mode: ",-1),D={class:"line"},H=p("span",null,"password is required: ",-1),J=h("check"),K={class:"line text-center"},N=h("confirm"),P={class:"line"},Q=p("span",null,"change password: ",-1),V=h("change password"),X={class:"line"},Y=p("span",{style:{width:"130px"}},"old password: ",-1),Z={class:"line"},$=p("span",{style:{width:"130px"}},"new password: ",-1),ee={class:"line"},re=p("span",{style:{width:"130px"}},"repeat password: ",-1),ae={class:"line text-center"},ie=h("confirm"),se=p("div",{class:"title"},[p("span",null,"danger")],-1),te=p("div",{class:"line"},[p("span",null,"delete your account. it will clear all your profile, settings, notes and codes.")],-1),ne={class:"line"},le=h("delete account"),oe={class:"line"},de=p("span",null,"password is required: ",-1),ce=h("check"),pe={class:"line text-center"},ue=h("confirm");o();const me=b(((e,r,a,i,s,t)=>{const n=w("gen-text-box"),l=w("gen-btn-flat"),o=w("btn-group"),f=w("window"),g=w("card");return d(),c("div",v,[p("div",k,[p(o,null,{default:b((()=>[p(n,{value:s.search,"onUpdate:value":r[1]||(r[1]=e=>s.search=e),"place-holder":"search profile",width:180,primary:"whitesmoke",secondary:"grey",l:""},null,8,["value"]),p(l,{primary:"white",secondary:"deepskyblue",border:"",l:""},{default:b((()=>[_])),_:1})])),_:1})]),p("div",x,[p(g,{primary:"white",secondary:"lightgrey",border:"",flat:"","no-shadow":""},{head:b((()=>[M])),main:b((()=>[p("div",C,[j,p("span",q,u(a.app.user.uid),1)]),p("div",U,[B,p(n,{value:s.profile.account.name,"onUpdate:value":r[2]||(r[2]=e=>s.profile.account.name=e),auto:"",primary:"whitesmoke",secondary:"deepskyblue",border:"",margin:""},null,8,["value"]),p(m,{name:"show-hide"},{default:b((()=>[s.profile.account.name!==a.app.user.username?(d(),c(l,{key:0,primary:"white",secondary:"deepskyblue",margin:"",border:"",m:""},{default:b((()=>[G])),_:1})):y("",!0)])),_:1})]),p("div",O,[S,p(n,{value:s.profile.account.email,"onUpdate:value":r[3]||(r[3]=e=>s.profile.account.email=e),auto:"",primary:"whitesmoke",secondary:"deepskyblue",border:"",margin:""},null,8,["value"]),p(f,{title:"change email"},{trigger:b((({trigger:e})=>[p(m,{name:"show-hide"},{default:b((()=>[s.profile.account.email!==a.app.user.email?(d(),c(l,{key:0,onClick:e,primary:"white",secondary:"deepskyblue",margin:"",border:"",m:""},{default:b((()=>[R])),_:2},1032,["onClick"])):y("",!0)])),_:2},1024)])),main:b((()=>[p("div",T,[E,p(n,{value:s.profile.account.email,"onUpdate:value":r[4]||(r[4]=e=>s.profile.account.email=e),width:250,primary:"whitesmoke",secondary:"grey",border:"",margin:""},null,8,["value"]),p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[F])),_:1})])])),action:b((()=>[p("div",I,[p(l,{primary:"white",secondary:"deepskyblue",margin:"",border:"",l:""},{default:b((()=>[L])),_:1})])])),_:1})])])),_:1}),p(g,{primary:"white",secondary:"darkseagreen",border:"",flat:"","no-shadow":""},{head:b((()=>[W])),main:b((()=>[p("div",z,[A,p(f,{title:"require password"},{trigger:b((({trigger:e})=>[p(l,{onClick:r=>s.profile.security.strictMode?t.turnOffStrictMode():e(),value:s.profile.security.strictMode,"onUpdate:value":r[5]||(r[5]=e=>s.profile.security.strictMode=e),primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[h(u(a.app.user.strictMode?"on":"off"),1)])),_:2},1032,["onClick","value"])])),main:b((()=>[p("div",D,[H,p(n,{primary:"whitesmoke",secondary:"grey",border:"",margin:"",width:200,password:"",m:""}),p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[J])),_:1})])])),action:b((()=>[p("div",K,[p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",l:""},{default:b((()=>[N])),_:1})])])),_:1})]),p("div",P,[Q,p(f,{title:"require password"},{trigger:b((({trigger:e})=>[p(l,{onClick:e,primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[V])),_:2},1032,["onClick"])])),main:b((()=>[p("div",X,[Y,p(n,{primary:"whitesmoke",secondary:"grey",border:"",margin:"",width:250,password:"",m:""})]),p("div",Z,[$,p(n,{primary:"whitesmoke",secondary:"grey",border:"",margin:"",width:250,password:"",m:""})]),p("div",ee,[re,p(n,{primary:"whitesmoke",secondary:"grey",border:"",margin:"",width:250,password:"",m:""})])])),action:b((()=>[p("div",ae,[p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",l:""},{default:b((()=>[ie])),_:1})])])),_:1})])])),_:1}),p(g,{primary:"white",secondary:"indianred",border:"",flat:"","no-shadow":""},{head:b((()=>[se])),main:b((()=>[te])),action:b((()=>[p(o,null,{default:b((()=>[p(f,{title:"require password"},{trigger:b((({trigger:e})=>[p("div",ne,[p(l,{onClick:e,primary:"white",secondary:"indianred",border:"",margin:"",l:""},{default:b((()=>[le])),_:2},1032,["onClick"])])])),main:b((()=>[p("div",oe,[de,p(n,{primary:"whitesmoke",secondary:"lightgrey",border:"",margin:"",width:250,password:"",m:""}),p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[ce])),_:1})])])),action:b((()=>[p("div",pe,[p(l,{primary:"white",secondary:"deepskyblue",border:"",margin:"",m:""},{default:b((()=>[ue])),_:1})])])),_:1})])),_:1})])),_:1})])])}));g.render=me,g.__scopeId="data-v-e991635a";export default g;
